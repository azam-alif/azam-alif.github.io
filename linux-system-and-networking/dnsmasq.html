<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>dnsmasq Setup Guide</title>
  <link rel="icon" type="image/png" href="../favicon.png">
  <link rel="stylesheet" href="../style.css">
</head>
<body>
    <!-- Particles.js background -->
    <div id="particles-js"></div>

    <div class="container">
        <main class="main-content">
            <header>
                <h1>How To Set Up dnsmasq on Linux</h1>
                <nav>
                    <a href="../index.html">Home</a>&nbsp;
                    <a href="../topics.html">Blog Topics</a>&nbsp;
                </nav>
            </header>

            <main>
                <h2>What is dnsmasq?</h2>
                <p>dnsmasq is a lightweight and simple tool that provides DNS caching, DHCP server, TFTP server, and PXE boot support—all from a single program. Because it is fast, minimal, and easy to configure, it’s extremely popular for home networks, labs, embedded systems, and cluster environments.</p>



                <p>Follow these steps to install and configure dnsmasq on Linux.</p>

                <h2>1. Install dnsmasq</h2>
                <ul><li>Arch Linux:</li></ul>
                <div class="code-block-container">
                    <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo pacman -S dnsmasq</code></pre>
                </div>



                <h2>2. Configure dnsmasq</h2>
		<p>Edit the main configuration file of dnsmasq from <code>/etc/dnsmasq.conf</code></p>

                <p>Add this basic configuration block:</p>
                <div class="code-block-container">
                    <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>port=0
interface=enp2s0
bind-interfaces
dhcp-range=192.168.144.101,192.168.144.199,12h
dhcp-boot=lpxelinux.0
dhcp-option-force=66,192.168.144.1
enable-tftp
tftp-root=/srv/tftp

dhcp-host=00:30:48:9D:6C:2A,192.168.144.101,node1
</code></pre>
                </div>
		<p>Now start the service.</p>
                <div class="code-block-container">
                    <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo systemctl enable dnsmasq
sudo systemctl start dnsmasq</code></pre>
                </div>

                <h2>3. Configure the Network Interface</h2>
                <p>If you ip in that assigned interface showing the same as you put in the configuration file, then you don't need this step. Your dnsmasq is running. If not, then you need to assign a static IP to the interface dnsmasq will manage. So, with any text editor open /etc/systemd/network/enp2s0.network and add the following line:</p>
                <div class="code-block-container">
                    <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>[Match]
Name=enp2s0
[Network]
Address=192.168.144.1/24</code></pre>
                </div>

                <h2>4. Restart Network Services</h2>
                <div class="code-block-container">
                    <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo systemctl restart systemd-networkd
sudo systemctl restart dnsmasq</code></pre>
                </div>

                <hr>
                <footer>
                  <p>Posted on: <b>December 7, 2025</b></p>
                </footer>

            </main>
        </main>
    </div>

    <!-- Scripts for particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="../script.js"></script>
</body>
</html>

