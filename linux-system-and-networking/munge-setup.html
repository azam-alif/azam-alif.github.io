<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MUNGE Setup Guide</title>
  <link rel="icon" type="image/png" href="../favicon.png">
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <div id="particles-js"></div>

  <div class="container">
    <main class="main-content">
      <header>
        <h1>How To Set Up MUNGE on Linux</h1>
        <nav>
          <a href="../index.html">Home</a>&nbsp;
          <a href="../topics.html">Blog Topics</a>&nbsp;
        </nav>
      </header>

      <main>
        <h2>What is MUNGE?</h2>
        <p>
          <b>MUNGE</b> (MUNGE Uid 'N' Gid Emporium) is an authentication service used in HPC clusters.
          It allows nodes to securely verify each other using shared cryptographic credentials.
        </p>

        <hr>

        <h2>1. Master Node Configuration</h2>
        <h3>1.1 Install MUNGE</h3>
        <div class="code-block-container">
          <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo pacman -S munge</code></pre>
        </div>

        <h3>1.2 Create the MUNGE Key</h3>
        <p>The key must be identical on all nodes. Create it only on the master.</p>
        <div class="code-block-container">
          <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo create-munge-key</code></pre>
        </div>

        <h3>1.3 Set Permissions</h3>
        <div class="code-block-container">
          <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo chown munge:munge /etc/munge/munge.key
sudo chmod 400 /etc/munge/munge.key</code></pre>
        </div>

	<p><b>Time sync is mandatory.</b> Use NTP/<a href=chrony.html>Chrony</a> on the cluster otherwise MUNGE will fail.</p>

        <h3>1.4 Enable and Start MUNGE</h3>
        <div class="code-block-container">
          <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo systemctl enable munge
sudo systemctl start munge</code></pre>
        </div>

        <h3>1.5 Test MUNGE (Local)</h3>
        <div class="code-block-container">
          <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>munge -n | unmunge</code></pre>
        </div>

        <hr>

        <h2>2. Compute Node Configuration</h2>
        <h3>2.1 Copy MUNGE Key</h3>
        <div class="code-block-container">
          <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>sudo cp /etc/munge/munge.key /srv/nfsroot/etc/munge/munge.key</code></pre>
        </div>

        <h3>2.2 Test MUNGE Over SSH</h3>
        <div class="code-block-container">
          <button class="copy-code-button" onclick="copyCode(this)">Copy</button>
<pre><code>munge -n | ssh node1 unmunge</code></pre>
        </div>

        <footer>
          <p>Posted on: <b>December 13, 2025</b></p>
        </footer>
      </main>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="../script.js"></script>
</body>
</html>
