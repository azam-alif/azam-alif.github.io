<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Full Diskless Cluster Setup</title>
  <link rel="icon" type="image/png" href="../favicon.png">
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <div id="particles-js"></div>

  <div class="container">
    <main class="main-content">
      <header>
        <h1>Building a Full Diskless Linux Cluster</h1>
        <nav>
          <a href="../index.html">Home</a>&nbsp;
          <a href="../topics.html">Blog Topics</a>&nbsp;
        </nav>
      </header>

      <main>

        <!-- ================= PART 1 ================= -->

        <h2>Part 1: How a Diskless Cluster Works</h2>

        <p>
	<div class="image-container">
  <img src="images/cluster-overview.png" alt="Diskless cluster overview">
</div>
        </p>

        <p>
          A diskless cluster consists of two types of machines: a <b>Master Node</b> and multiple
          <b>Compute Nodes</b>. Compute nodes have no storage devices. They rely entirely on the master
          node to boot, authenticate, and operate.
        </p>

        <p>
          <img src="images/master-node-services.png" alt="Master node services" style="max-width:100%; height:auto;">
        </p>

        <p>
          The master node is not a single-purpose machine. It acts as a combined server providing
          <b>DHCP</b>, <b>TFTP</b>, <b>NFS</b>, <b>SSH</b>, <b>MUNGE</b>, and <b>SLURM</b>.
        </p>

        <p>
          When a compute node powers on with <b>PXE boot</b> set as the first boot option, it broadcasts
          a DHCP request. The master node responds by assigning an IP address and pointing the node to
          the bootloader file <code>pxelinux.0</code>.
        </p>

        <p>
          The compute node then downloads <b>pxelinux.0</b> via TFTP. Based on its configuration, the
          node fetches the Linux kernel and the initial RAM filesystem (initramfs) from the master
          node, again using TFTP.
        </p>

        <p>
          After the kernel starts, the compute node mounts its <b>root filesystem over NFS</b> from
          the master node. At this point, the node is running a full Linux system without any local
          disk.
        </p>

        <p>
          Once booted, compute nodes are fully usable. Users can run software, compile code, and
          execute parallel jobs exactly like a normal Linux system.
        </p>

        <p>
          For cluster computation, <b>SLURM</b> is used as the workload manager. Password-based SSH
          logins are inefficient, so <b>MUNGE</b> is deployed to provide secure, credential-free
          authentication between nodes. With SLURM and MUNGE running on all nodes, the cluster becomes
          a functional HPC system.
        </p>

        <!-- ================= PART 2 ================= -->

        <hr>
        <h2>Part 2: Diskless Cluster Setup Roadmap</h2>

        <p>
          In this section, each service is configured step by step. Detailed commands are not repeated
          here; instead, each setup links to its dedicated guide.
        </p>

        <ol>
  <li>
    Configure the <b><a href="dhcp-server.html">DHCP server</a></b> on the master node.
  </li>

  <li>
    Configure the <b><a href="tftp-server.html">TFTP server</a></b> to serve
    <code>pxelinux.0</code>, the Linux kernel, and the initramfs.
  </li>

  <li>
    Build the <b><a href="initrd-generation.html">root filesystem</a></b> for compute nodes, including networking, SSH,
    MUNGE, and SLURM client components. Here you will get the initramfs for step 2 too. 
  </li>

  <li>
    Configure the <b>NFS server</b> and export the root filesystem to compute nodes.
  </li>

  <li>
    Set up <b><a href="munge-setup.html">MUNGE</a></b> on the master and all compute nodes for secure authentication.
  </li>

  <li>
    Configure <b><a href="slurm-setup.html">SLURM</a></b> on the master node and register all compute nodes for job scheduling.
  </li>
</ol>

<h3>Additional Help</h3>

<ul>
  <li>
    <a href="dnsmasq.html">DNSMasq setup</a> – lightweight DHCP/DNS/TFTP alternative for small clusters.
  </li>

  <li>
    <a href="pxe-arch.html">PXE boot with Arch Linux</a> – PXE configuration and bootloader setup.
  </li>

  <li>
    <a href="pxe-arch-rootfs.html">Arch Linux PXE root filesystem</a> – building and exporting the NFS rootfs.
  </li>
</ul>

        <hr>
        <footer>
          <p>Last updated on: <b>December 28, 2025</b></p>
        </footer>

      </main>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="../script.js"></script>
</body>
</html>
